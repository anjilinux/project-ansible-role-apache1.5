---
# defaults for vbotka.apache

apache_debug: False

freebsd_install_method: "packages"
#freebsd_install_method: "ports"
#freebsd_use_packages: "yes"

apache_enable: True
apache_version: "24"
apache_package: "www/apache{{ apache_version }}"
apache_dir: "apache{{ apache_version }}"
apache_service: "apache{{ apache_version }}"
apache_conf_path: "/usr/local/etc/apache{{ apache_version }}"

# httpd.conf
apache_ServerName: "www.example.com"
apache_ServerAdmin: "admin@example.com"
apache_httpd_conf:
  - { regexp: "^ServerName ", line: "ServerName {{ apache_ServerName }}"}
  - { regexp: "^ServerAdmin ", line: "ServerAdmin {{ apache_ServerAdmin }}"}

# SSL
apache_ssl: False
apache_SSLCertificateFile: "/usr/local/etc/apache{{ apache_version }}/server.crt"
apache_SSLCertificateKeyFile: "/usr/local/etc/apache{{ apache_version }}/server.key"
apache_SSLProtocol: "all -SSLv2 -SSLv3 -TLSv1 -TLSv1.1"
apache_SSLCipherSuite: "ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256"
apache_SSLCompression: "off"
#SSLOpenSSLConfCmd DHParameters "/usr/local/etc/ssl/dhparam.pem"
#SSLSessionCache shmcb:/var/run/ssl_scache(512000)
#Header always set X-Frame-Options DENY
#Header always set X-Frame-Options SAMEORIGIN
apache_httpd_conf_ssl:
  - { regexp: "^Include etc/apache{{ apache_version }}/extra/httpd-ssl.conf",
      line: "Include etc/apache{{ apache_version }}/extra/httpd-ssl.conf" }
apache_httpd_conf_ssl_extra:
  - { regexp: "^Listen 443", line: "Listen 443" }
  - { regexp: "^ServerName", line: "ServerName {{ apache_ServerName }}" }
  - { regexp: "^ServerAdmin", line: "ServerAdmin {{ apache_ServerAdmin }}" }
  - { regexp: "^SSLEngine on", line: "SSLEngine on" }
  - { regexp: "^SSLProtocol ", line: "SSLProtocol {{ apache_SSLProtocol }}" }
  - { regexp: "^SSLCipherSuite ", line: "SSLCipherSuite {{ apache_SSLCipherSuite }}" }
  - { regexp: "^SSLCompression ", line: "SSLCompression {{ apache_SSLCompression }}" }
  - { regexp: "^SSLCertificateFile ", line: "SSLCertificateFile {{ apache_SSLCertificateFile }}" }
  - { regexp: "^SSLCertificateKeyFile ", line: "SSLCertificateKeyFile {{ apache_SSLCertificateKeyFile }}" }

# Modules
apache_httpd_conf_modules:
  - { module: "socache_shmcb_module", mod: "mod_socache_shmcb.so" }

# PHP
apache_php: False
apache_php_version: "56"
apache_php_package: "www/mod_php{{ apache_php_version }}"

# vhosts
# Virtual hosts need apache_ssl. Port 80 is redirected permanently to 443 for vhosts.
apache_vhost: {}

#
apache_directory_blocks: {}

# Packages
apache_packages:
  - "{{ apache_package }}"
  - "{{ apache_php_package }}"

# EOF
...
